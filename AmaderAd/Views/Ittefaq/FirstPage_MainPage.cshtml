@model AmaderAd.Models.Newspaper

@{
    ViewBag.Title = "ClassifiedAdvertisement";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>ইত্তেফাকের প্রথম পৃষ্ঠাতে রঙিন বিজ্ঞাপন দিন</h2>
<p>অনুগ্রহ পূর্বক নিচের তথ্যগুলো দিন (Please Provide the Information below) </p>

@using (Html.BeginForm("Create", "Newspapers", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

<div class="form-horizontal">
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.Partial("_NewspaperHeader", Model)
  
    @Html.Partial("_NewspaperBody", Model)
    
    @Html.Partial("_NewspaperTotalCostWithoutVat", Model)

    @Html.Partial("_NewspaperComment")

    @Html.Partial("_NewspaperFileUploadCreate")

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" id="submit-btn" value="Submit" class="btn blue " />
        </div>
    </div>
</div>
}

@Html.Partial("_NewspaperSampleAd")


<script>
    var amount;
    $("#Description").bind('keyup keydown paste cut', function(e)
    {
        setTimeout(function () {

            var value = $('#Description').val();
            if (value.length == 0) {
                $('#TotalPrice').val(0);
                $('#wordLimiter').html(0);
                return;
            }
            var regex = /\s+/gi;
            var wordcount = value.trim().replace(regex, ' ').split(' ').length;

            var x = 600 * .15;

            if (wordcount>=50) {
                document.getElementById("maxwords").innerHTML = "আপনি সর্বোচ্চ পঞ্চাশ শব্দের বিজ্ঞাপন দিতে পারবেন। <br>you can submit maximum 50 words advertisement";
            }
            if (wordcount <50) {
                $('#maxwords').empty();
            }

            if ( wordcount > 50 ){
                $("#submit-btn").attr("disabled", "disabled");

            } else {
                $("#submit-btn").removeAttr("disabled");
            }

            if (wordcount <= 16) {
                amount = 600 + x;
            }
            else if (wordcount > 16) {
                var extraWord = wordcount - 16;
                var y = (extraWord *40) * 0.15;
                var extraAmount = extraWord * 40 + y;
                amount = 690 + extraAmount;
            }

            $('#TotalPrice').val(amount);

            $('#wordLimiter').html(wordcount);
        },100);
    });

</script>


<script>
    var hour = new Date().getUTCHours()+6;
    $(".datetime").datepicker({
        startDate: hour >= 18 ? '+2d' : '+1d',
        autoclose:true
     });

</script>